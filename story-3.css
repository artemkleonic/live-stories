/* =========================
   STORY 3: "Лаврентий"
   тема + фон + шапка с фото + controls (как Story-1)
   ========================= */

.story-body{
  --paper: rgba(12, 14, 18, .72);
  --paper2: rgba(12, 14, 18, .50);
  --stroke2: rgba(255,255,255,.14);

  --reader-font-scale: 1;
  --reader-font: clamp(16px, 1.15vw, 20px);

  /* мягкий ночной двор + луна */
  --glow: rgba(170,205,255,.14);
  --glow2: rgba(255,216,168,.10);

  /* акцент (спокойный, “кот в смокинге”) */
  --accentA: rgba(185,215,255,.92);
  --accentB: rgba(255,226,191,.28);
  --accentShadow: rgba(185,215,255,.28);
}

.story-body[data-theme="sepia"]{
  --paper: rgba(22, 16, 12, .80);
  --paper2: rgba(22, 16, 12, .56);

  --glow: rgba(255,201,140,.18);
  --glow2: rgba(255,231,205,.10);

  --accentA: rgba(255,201,140,.92);
  --accentB: rgba(255,231,205,.30);
  --accentShadow: rgba(255,201,140,.28);
}

/* фон истории */
.bg-story{
  background:
    radial-gradient(1000px 650px at 22% 14%, var(--glow), transparent 60%),
    radial-gradient(900px 650px at 78% 18%, rgba(124,242,199,.06), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.40), rgba(0,0,0,.80)),
    url("./img/bg-story-3.jpg");
  background-size: cover;
  background-position: center;
}

.bg-story::after{
  content:"";
  position:absolute;
  inset:-80px;
  background:
    radial-gradient(1200px 900px at 50% 30%, transparent 40%, rgba(0,0,0,.62) 78%),
    radial-gradient(900px 700px at 50% 120%, rgba(0,0,0,.76), transparent 55%);
  pointer-events:none;
}

/* прогресс-бар */
.readbar__fill{
  background: linear-gradient(90deg, var(--accentA), var(--accentB));
  box-shadow: 0 0 24px var(--accentShadow);
}

/* =========================
   STORY HEADER WITH PHOTO (как Story-1)
   ========================= */

.storyhead{
  position: relative;
  border-radius: 26px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 22px 60px rgba(0,0,0,.55);
}

/* фон-фото (та же картинка что и bg) */
.storyhead__bg{
  position:absolute;
  inset:0;
  background:
    linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.72)),
    url("./img/bg-story-3.jpg") center / cover no-repeat;
  transform: scale(1.02);
}

/* “постер” (как у тебя в Story-1) */
.storyhead__content{
  position: relative;
  z-index: 2;
  padding: 500px 26px 18px;
}

.storyhead .story__title{
  text-shadow: 0 18px 46px rgba(0,0,0,.70);
}

/* controls снизу */
.storyhead__controls{
  position: relative;
  z-index: 2;
  padding: 12px 12px 12px;
  background: rgba(10,12,16,.72);
  border-top: 1px solid rgba(255,255,255,.12);
}

/* убираем “мыло”/плитки в TG webview */
.storyhead__controls .controls{
  margin: 0 !important;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.storyhead__controls .iconbtn{
  background: rgba(255,255,255,.06) !important;
  border-color: rgba(255,255,255,.14) !important;
}

/* мобила */
@media (max-width: 780px){
  .storyhead{ border-radius: 22px; }
  .storyhead__content{ padding: 200px 18px 14px; }
}

/* =========================================================
   BIG PHOTO INSIDE TEXT
   ========================================================= */

.story-body .story__content img{
  display: block;
  width: 100% !important;
  max-width: 980px !important;
  height: auto;

  margin: 18px auto 22px;
  border-radius: 18px;

  box-shadow: 0 18px 50px rgba(0,0,0,.45);
  border: 1px solid rgba(255,255,255,.12);

  max-height: none;
}

.story-body .story__content p > img{
  margin-top: 14px;
  margin-bottom: 18px;
}

@media (max-width: 780px){
  .story-body .story__content img{
    max-width: 100% !important;
    border-radius: 16px;
  }
}

/* =========================================================
   QUOTES (у тебя есть <p class="quote">) — делаем красиво
   ========================================================= */

.story-body .story__content .quote{
  margin: 18px 0 18px;
  padding: 14px 16px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.20);
  box-shadow: 0 16px 40px rgba(0,0,0,.28);
  color: rgba(255,255,255,.92);
}
